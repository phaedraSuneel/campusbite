<div class="property">
  <div class="group" data-length = "<%= length %>">
  	<div class="form-group row">
      <label class="col-md-3 control-label">Group Name</label>
      <div class="col-md-9">
        <input class="form-control length"  name='menu_item[groups_attributes][<%= length %>][name]' size="30" type="text">
      </div>  
    </div>
    <div class="form-group row">
      <label class="col-md-3 control-label">Min Limit</label>
      <div class="col-md-9">
        <input class="form-control" min="0" name='menu_item[groups_attributes][<%= length %>][min_limit]' type="number">
      </div>  
    </div>
    <div class="form-group row">
      <label class="col-md-3 control-label">Max Limit</label>
      <div class="col-md-9">
        <input class="form-control" min="0" name='menu_item[groups_attributes][<%= length %>][max_limit]' type="number">
      </div>  
    </div>

    <div class="form-group row">
      <label class="col-md-3 control-label">Display Message</label>
      <div class="col-md-9">
        <input class="form-control" id="menu_item_groups_attributes_0_message" name="menu_item[groups_attributes][<%= length %>][message]" size="30" type="text">
      </div>  
    </div>

    <div class="form-group row">
      <label class="col-md-3 control-label">Select Message Color </label>
      <div class="col-md-9">
        <select class="form-control" name="menu_item[groups_attributes][<%= length %>][message_color]">
          <option value="Red">Red</option>
          <option value="Grey">Grey</option>
        </select>
      </div>  
    </div>
    <div class="form-group row">
      <label class="control-label col-md-3">Required</label>
      <div class="col-md-9">
        <div class="radio-list">
          <label>
            <div class="radio">
              <span class="checked"><div class="radio"><span class="checked"><input checked="checked" name="menu_item[groups_attributes][<%= length %>][required]" type="radio" value="true"></span></div></span>
            </div>&nbsp;&nbsp; Yes 
          </label>
          <label>
            <div class="radio">
              <span><div class="radio"><span class=""><input name="menu_item[groups_attributes][<%= length %>][required]" type="radio" value="false"></span></div></span>
            </div>&nbsp;&nbsp; No
          </label>
        </div>  
      </div>
    </div>
    <div class="group-item-content">
    </div>  
    <%= link_to "Add Group Item", 'javascript:;', :class => 'add-group-item-link btn blue '%>
  </div>
	<div class="form-group row">
    <div class="col-md-12">
      <a href="javascript:;" class="remove-group-property-field btn red pull-right "> Remove Group </a>
    </div>  
  </div>
</div>
  

 <script>
	$(document).ready(function(){
		$(".remove-group-property-field").click(function(){
      $(this).parent().parent().parent().remove();
  	});

    $(".add-group-item-link").on('click', function(e){
      parent = $(this).parent();
      id = $(".group-content").data('menu');
      sub_parent = parent.find(".group-item-content");
      index = parent.data('length');
      length = sub_parent.find('input.index').length;
      $.ajax ({
        url:  '/admin/menu/'+ id +'/menu_items/get_group_item',
        data: {length: length, index: index },
        success: function(data)
        {
          sub_parent.append(data);
        }
      });
    });
	});
</script>